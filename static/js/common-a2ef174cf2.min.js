!function(){function e(t,n,r){function o(i,a){if(!n[i]){if(!t[i]){var c="function"==typeof require&&require;if(!a&&c)return c(i,!0);if(s)return s(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[i]={exports:{}};t[i][0].call(l.exports,function(e){return o(t[i][1][e]||e)},l,l.exports,e,t,n,r)}return n[i].exports}for(var s="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}return e}()({1:[function(require,module,exports){function goVer(e){document.cookie="mobile_set="+e+"; path=/; domain=."+window.location.host,"no"==e?window.location.reload(!0):window.location.replace("/")}var AccountSDK=require("byted-toc-sso-sdk/src/bisAccount.js");window.accountSDK=new AccountSDK({aid:1305}),window.Auth={intervalID:"",unLogin:function(){return!_UID_||"0"===_UID_},Login:function(){return ui.box.ajaxLogin()},refreshCaptcha:function(){accountSDK.refreshCaptcha().then(function(e){Auth.setCaptcha(e.captcha)},function(e){ui.error(e.message)})},countDown:function(e,t){var n=$(e);ui.btn.disable(e),n.text(t+" s"),n.data("counting",!0),this.intervalID=setInterval(function(){if(--t<=0)return clearInterval(Auth.intervalID),ui.btn.enable(e),n.text("点击获取"),void n.data("counting",!1);n.text(t+" s")},1e3)},doLogin:function(e){$.post("/home/public/dologin",{user_id:e.user_id},function(e){e=jQuery.parseJSON(e),1==e.status?window.location.href=e.data.link:ui.error(e.info)})},changeUserinfo:function(e){$.get("/public/changeUserInfo",function(){e&&e()})},setCaptcha:function(e){$(".js-verify-img-wrap").removeClass("hide"),$(".js-verify-img").removeClass("hide").attr("src","data:image/gif;base64,"+e)},pointVerify:function(e,t){e=e||function(){},t=t||function(){};var n={ele:"pc_text",toolbarBackColor:"#fff",refreshFontColor:"#4A90E2",refreshIconColor:"#4A90E2",subBackColor:"#4A90E2",subFontColor:"#fff",validatePassBackColor:"#A0CC49",validateFailBackColor:"#EB2F2F",host:"https://verify.snssdk.com",aid:"1305",lang:"zh",app_name:"bcy_web",challenge_code:"1104"};n.successCb=function(){ui.box.close(),e&&e()},n.errorCb=function(){ui.box.close(),t&&t()},ui.box.show('<div id="pc_text"></div>',{title:"",width:300,closeable:!1,notitle:!0,zIndex:1e3}),new Points(n).init(),ui.box.center()},slideVerify:function(e,t){e=e||function(){},t=t||function(){};var n={ele:"pc_slide",host:"https://verify.snssdk.com",aid:"1305",lang:"zh",app_name:"bcy_web",challenge_code:"1105",toolbarBackColor:"#fff",promptBackColor:"#F0F0F0",promptFontColor:"#808080",refreshFontColor:"#4A90E2",refreshIconColor:"#4A90E2",validatePassBackColor:"#A0CC49",validateFailBackColor:"#EB2F2F"};n.scuuessCb=function(){ui.box.close(),e&&e()},n.successCb=function(){ui.box.close(),e&&e()},n.errorCb=function(){ui.box.close(),t&&t()},ui.box.show('<div id="pc_slide"></div>',{title:"",width:300,closeable:!1,notitle:!0,zIndex:1e3}),new SliderVerification(n).init(),ui.box.center()}},$(function(){$("body").on("click",".toTop",function(){return $("html, body").animate({scrollTop:0},500)}),$(window).on("scroll resize",function(){$(window).scrollTop()>0?$(".toTop, .toFeedBack").removeAttr("style"):$(".toTop, .toFeedBack").css("opacity",0)})}),"function"!=typeof history.pushState?(window.isHistoryAble=!1,history.pushState=function(){},history.replaceState=function(){}):window.isHistoryAble=!0,window.getLength=function(e){return Math.ceil(e.replace(/^\s+|\s+$/gi,"").replace(/[^\x00-\xff]/gi,"xx").length/2)},subStr=function(e,t){var n,r,o;if(!e)return"";for(t=t>0?2*t:280,n=0,r="",o=0;o<e.length;o++){if(e.charCodeAt(o)>255?n+=2:n++,n>t)return r;r+=e.charAt(o)}return e},window.getURLParameter=function(e){return(RegExp(e+"=([^&]+?)(&|$)").exec(location.search)||[,null])[1]},$(function(){$(".js-hideFooter").length>0&&($(".js-footer-splitline").hide(),$(".js-footer").hide())}),window.UserInteraction={},UserInteraction.follow={},UserInteraction.follow.follow=function(e,t){var n=$.Deferred();return t=t||"dofollow",$.when($.post("/weibo/Operate/follow",{uid:e,type:t})).done(function(e){switch(parseInt(e)){case 1:e="unfollow";break;case 10:e="self";break;case 11:case 12:e="havefollow";break;case 13:e="eachfollow";break;default:e="error"}n.resolve(e)}).fail(function(){n.reject()}),n.promise()},UserInteraction.follow.cancleFollow=function(e){return UserInteraction.follow.follow(e,"unfollow")},UserInteraction.follow.unFollow=UserInteraction.follow.cancleFollow,window.refreshopage=function(){window.location.reload()},window.followInit=function(e,t,n,r,o,s,i){$root=$(e);var a=function(e,t,n){r||n.remove();var o=Template.render(r,{status:e,text:t,uid:n.data("uid")});n=n.replaceWith(o)},c=function(e){e.data("uid")&&(s=e.data("uid")),$.when(UserInteraction.follow.follow(s)).done(function(t){switch(t){case"self":ui.error("禁止关注自己"),window.location=window.location;break;case"havefollow":ui.success("关注成功"),a(t,"已关注",e);break;case"eachfollow":ui.success("关注成功"),a(t,"互相关注",e);break;default:ui.error("关注失败")}i&&i()}).fail(function(){ui.error("关注失败")})},u=function(e){e.data("uid")&&(s=e.data("uid")),$.when(UserInteraction.follow.unFollow(s)).done(function(t){"unfollow"===t?(ui.success("取消关注成功"),a(t,"关注",e)):ui.error("取消关注失败"),i&&i()}).fail(function(){ui.error("取消关注失败")})};$root.on("click",t,function(){var e=".js-uiDetailUserFollow"==t?$(t):$(this);if(Auth.unLogin())return void Auth.Login();c(e)}),n&&$root.on("click",n,function(){var e=$(this).closest(o);u(e)})},window.post={},post.zan=function(e,t){var n=$.Deferred(),r="",o={};switch(e){case"note":case"article":case"ganswer":case"video":r="/item/Operate/postding",o.item_id=t;break;case"ask":r="/home/ask/ding",o.ua_id=t}return $.post(r,o,function(e){e=$.parseJSON(e),1==e.status&&0!=e.data?n.resolve(e.data):n.reject(e.info)}),n.promise()},post.unzan=function(e,t){var n=$.Deferred(),r="",o={};switch(e){case"note":case"article":case"ganswer":case"video":r="/item/operate/postunding",o.item_id=t;break;case"ask":r="/home/ask/UnDing",o.ua_id=t}return $.post(r,o,function(e){e=$.parseJSON(e),1==e.status?n.resolve(e.data):n.reject()}),n.promise()},window.ui=window.ui||{success:function(e,t,n){var r=1==t?"html_clew_box clew_error ":"html_clew_box",o=0;!function(e){o||($("body").append('<div class="" id="ui_messageBox" style="display:none"><div class="html_clew_box_close"><a href="javascript:void(0)" onclick="$(this).parents(\'.html_clew_box\').hide()" title="关闭">关闭</a></div><div class="html_clew_box_con" id="ui_messageContent">&nbsp;</div></div>'),o=1),$("#ui_messageContent").html(e),$("#ui_messageBox").attr("class",r);var t=ui.box._viewport();jQuery('<div class="boxy-modal-blackout modal"></div>').css(jQuery.extend(ui.box._cssForOverlay(),{zIndex:99,opacity:.2})).appendTo(document.body),$("#ui_messageBox").css({left:t.left+t.width/2-$("#ui_messageBox").outerWidth()/2+"px",top:t.top+t.height/2-$("#ui_messageBox").outerHeight()/2+"px"}),$("#ui_messageBox").fadeIn("slow")}(e),function(){setTimeout(function(){$("#ui_messageBox").fadeOut("fast",function(){jQuery(".boxy-modal-blackout")[1]?$(jQuery(".boxy-modal-blackout")[1]).remove():$(jQuery(".boxy-modal-blackout")[0]).remove()})},n||1500)}()},error:function(e,t){ui.success(e,1,t)},postSuccess:function(e,t){var n='<div class="postSuccess" id="ui_postMessage" style="display:none;"><div class="html_clew_box_close"><a href="javascript:void(0)" onclick="$(this).parents(\'.html_clew_box\').hide()" title="关闭">关闭</a></div><div class="postSuccess__title">'+e+'</div><div class="postSuccess__content" id="ui_postMessageContent"></div></div>',r=0;!function(e){r||($("body").append(n),r=1),$("#ui_postMessageContent").html(e);var t=ui.box._viewport();jQuery('<div class="boxy-modal-blackout modal"></div>').css(jQuery.extend(ui.box._cssForOverlay(),{zIndex:99,opacity:.2})).appendTo(document.body),$("#ui_postMessage").css({left:t.left+t.width/2-$("#ui_postMessage").outerWidth()/2+"px",top:t.top+t.height/2-$("#ui_postMessage").outerHeight()/2+"px"}),$("#ui_postMessage").fadeIn("slow")}(t)},sendmessage:function(e){if(Auth.unLogin())return void Auth.Login();e=e||"",ui.box.load("/Home/Message/post?touid="+e,{title:"发私信"})},confirm:function(o,text,callback){var _callback=callback;text=text||"确定要做此项操作吗？",this.html=Template.render("tpl-ui-confirm",{text:text}),$("body").append(this.html);var position=$(o).offset();$("#ts_ui_confirm").css({top:position.top+"px",left:position.left+"px",display:"none"}),$("#ts_ui_confirm").fadeIn("fast"),$("#ts_ui_confirm .js-btn_w").one("click",function(){$("#ts_ui_confirm").fadeOut("fast"),$("#ts_ui_confirm").remove()}),$("#ts_ui_confirm .js-btn_b").one("click",function(){if($("#ts_ui_confirm").fadeOut("fast"),$("#ts_ui_confirm").remove(),_callback&&"function"==typeof _callback)_callback();else{var callback=$(o).attr("callback");eval(callback)}})},confirmPromise:function(e,t,n){var r=$.Deferred();t=t||"确定要做此项操作吗？",this.html=Template.render("tpl-ui-confirm",{text:t}),n==undefined?$("body").append(this.html):$(n).append(this.html);var o=$(e).offset();return $("#ts_ui_confirm").css({top:o.top+"px",left:o.left+"px",display:"none"}),$("#ts_ui_confirm").fadeIn("fast"),$("#ts_ui_confirm .js-btn_w").one("click",function(){$("#ts_ui_confirm").fadeOut("fast"),$("#ts_ui_confirm").remove(),r.reject()}),$("#ts_ui_confirm .js-btn_b").one("click",function(){$("#ts_ui_confirm").fadeOut("fast"),$("#ts_ui_confirm").remove(),r.resolve()}),r.promise()},getarea:function(e,t,n,r,o,s,i){var a=!o,c=t?'class="'+t+'"':"",u='<select id="area_provence" name="'+e+'_province" '+c+'><option value="0">省/直辖市</option></select> <select id="area_city" name="'+e+'_city" '+c+"><option value=0>不限</option></select>";$(arguments[5]).length||$("#showWindow").length?$(arguments[5]).replaceWith(u):document.write(u),$.getJSON("/home/Public/getArea",function(t){t=t.provinces,i!=undefined&&"Array"==Object.prototype.toString.call(i).slice(8,-1)&&(t=t.filter(function(e){for(var t=0;t<i.length;t++)if(i[t]==e.id)return i.splice(t,1),!1;return!0}));var o="<option>省/直辖市</option>";$.each(t,function(t,s){var i="",a="",c="<option>不限</option>";s.id==n&&(i='selected="true"',$.each(s.citys,function(e,t){for(var n in t)a=n==r?'selected="true"':"",c+='<option value="'+n+'" '+a+">"+t[n]+"</option>"}),$("select[name='"+e+"_city']").html(c)),o+='<option value="'+s.id+'" rel="'+t+'" '+i+">"+s.name+"</option>"}),$("select[name='"+e+"_province']").on("change",function(){var n="<option>不限</option>",r=$(this).find("option:selected").attr("rel");if(r){var o=t[r].citys;$.each(o,function(e,t){for(var r in t)n+="<option value="+r+">"+t[r]+"</option>"})}$("select[name='"+e+"_city']").html(n)}),$("select[name='"+e+"_province']").html(o),a&&($("#area_provence:visible").customSelect(),$("#area_city:visible").customSelect())})},btn:{disable:function(e){var t=$(e);t.hasClass("_btn--negative")||(t.addClass("_btn--negative _btn--no-hover"),t.attr("disabled",!0))},enable:function(e){var t=$(e);0!==t.length&&t.hasClass("_btn--negative")&&(t.removeClass("_btn--negative _btn--no-hover"),t.removeAttr("disabled"))}}},window.getUserInfo=function(){return{avatar:$("#js-headerUser").find("img").attr("src"),homeSpaceUrl:$("#js-headerUser").find("a").attr("href"),uname:$("#js-headerUser").find("a").attr("title")}},window.scrollBlackOpt={cursorcolor:"#6D6A77",zindex:"1",cursorwidth:"4px",cursorborder:"none",cursorborderradius:"2px",railoffset:{left:-3},horizrailenabled:!1},window.scrollWhiteOpt={cursorcolor:"#f2f2f2",zindex:"1",cursorwidth:"4px",cursorborder:"none",cursorborderradius:"2px",railoffset:{left:-3},horizrailenabled:!1},window.Post=post,window.shareGenrate=function(e){var t=e.url||location.href,n="",r="",o="",s="";return"note"==e.type?(n+="发现篇超棒的图~o(≧v≦)o~作者："+e.uname,r+="【美图by"+e.uname+"】",o="超棒！已有"+e.like_count+"个小伙伴赞过，快来看看（分享自半次元）",s="这篇图超棒！已有"+e.like_count+"个小伙伴赞过，快来看看（分享自半次元）"):"article"==e.type?(n+="发现篇超棒的文《"+e.title+"》~o(≧v≦)o~作者："+e.uname,r+="【文章-"+e.title+"】",o="超棒！已有"+e.like_count+"个小伙伴赞过，快来看看（分享自半次元）",s="这篇文超棒！已有"+e.like_count+"个小伙伴赞过，快来看看（分享自半次元）"):"ganswer"==e.type?(n+="「"+e.title+"」"+e.uname+"的回答超有趣(ꎤ'ω')و ，",r+="【问答-"+e.title+"】",o="这回答超有趣！快来看看（分享自半次元） ",s="「"+e.title+"」这回答超有趣（分享自半次元）"):"video"==e.type&&(n+="发现个超棒的视频《"+e.title+"》~o(≧v≦)o~作者："+e.uname,r+="【视频-"+e.title+"】",o="超棒！已有"+e.like_count+"个小伙伴赞过，快来看看（分享自半次元）",s="这个视频超棒！已有"+e.like_count+"个小伙伴赞过，快来看看（分享自半次元）"),n+=" 快来看看>> "+t+"（想看更多？下载半次元 APP>> https://bcy.net/static/app ）",{pic:e.pic,url:t,title:r,titleSina:n,desc:o,titleWechat:s}},$(function(){$(".js-content-img-wrap").each(function(){$(this).find("img:not(.js-no-wrap)").wrap('<div class="content-img-wrap"><div class="content-img-wrap-inner"></div></div>')})}),window.getCookie=function(e){return e?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},$.ajaxSetup({beforeSend:function(e,t){if("POST"==t.type&&!/^\/apiv3/i.test(t.url)){var n=t.data;return(/^\/\w+/i.test(t.url)||t.url.indexOf(location.origin)>-1)&&(t.data=n?n+"&_csrf_token="+getCookie("_csrf_token"):"_csrf_token="+getCookie("_csrf_token")),!0}}}),window.doShare=function(e,t){$.post("/item/share/doshare",{item_id:e}).done(function(e){t&&t(e)})},String.prototype.replaceAll=function(e,t){return this.replace(new RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),t)},function(e){e.fn.linkUrl=function(){var t=/((?:https?):\/\/bcy\.net(?:\/.[^\u4e00-\u9fa5\s<'"·×—‘’“”…、。《》『』【】!（），：；？]*)?)/gi;e(this).contents().each(function(){var n=e(this),r=n.clone();r.find("a").remove();var o=r.text().match(t);void 0!==o&&null!=o&&(void 0===n.html()&&(n=n.wrap("<span />").parent()),e.each(_.uniq(o),function(t,r){var o=n.html().replaceAll(e("<div />").text(r).html(),'<a href="'+r+'" target="blank" >'+r+"</a>");n.html(o)}))})}}(jQuery),require("./common/juicer.setting.js"),jQuery.extend(ui,{box:function(e,t){}}),jQuery.extend(ui.box,{WRAPPER:"<table cellspacing='0' id='tsbox' cellpadding='0' border='0' style='display:none;z-Index:999;' class='boxy-wrapper'><tr><td class='boxy-inner'><div class='title-bar'></div><div class='boxy-content' id='tsbox_content'></div></td></tr></table>",init:function(e){$("body").prepend(this.WRAPPER);var t="";t=e.title_html?e.title_html:"<h2>"+e.title+"</h2>","undefined"!=typeof e.closeable&&1!=e.closeable||(t+="<a href='#' class='close'></a>"),e.width&&$("#tsbox").css("width",e.width+"px"),e.notitle?$("#tsbox").find(".title-bar").remove():$("#tsbox").find(".title-bar").html(t),$("#tsbox").show(),e.zIndex&&$("#tsbox").css({zIndex:e.zIndex}),jQuery('<div class="boxy-modal-blackout modal"></div>').appendTo(document.body),$("#tsbox").stop().css({width:"",height:""}),$("#tsbox").css({width:e.width+"px",height:e.height+"px"}),jQuery(document.body).bind("keyup.tsbox",function(e){if(27==(e.keyCode?e.keyCode:e.which?e.which:e.charCode))return jQuery(document.body).unbind("keyup.tsbox"),ui.box.close(),!1}),$("#tsbox").find(".close").click(function(){return ui.box.close(),!1})},setcontent:function(e){$("#tsbox_content").html(" "+e+" ")},close:function(){$(".talkPop").first().remove(),$("#tsbox").remove(),jQuery(".boxy-modal-blackout").first().remove(),0==$(".talkPop").length&&this._overflowOff(),this.resizeOff(),$("body").trigger("ui.box.close")},alert:function(e,t){this.init(t),this.setcontent('<div class="question">'+e+"</div>"),this.center()},show:function(e,t){this._overflow(),this.resizeOn(),this.init(t),ui.box.setcontent(e),this.center(),$("body").trigger("ui.box.show")},load:function(e,t,n){this.init(t);var r={url:e,type:"GET",dataType:"html",cache:!1,success:function(e){ui.box.setcontent(e),ui.box.center(),$("body").trigger("ui.box.show"),n&&n()}};this._overflow(),this.resizeOn(),ui.box.setcontent('<div style="width:150px;height:70px;text-align:center"><div class="load">&nbsp;</div></div>'),this.center(),jQuery.ajax(r)},_overflow:function(){var e=$(window).width();$("body").addClass("modal-open");var t=$(window).width();$("body").append('<style id="scrollbar-width"> .modal-open { padding-right:'+(t-e)+"px }</style>")},_overflowOff:function(){$("body").removeClass("modal-open"),$("#scrollbar-width").remove()},_viewport:function(){var e=document.documentElement,t=document.body,n=window;return jQuery.extend(jQuery.support.msie?{left:t.scrollLeft||e.scrollLeft,top:t.scrollTop||e.scrollTop}:{left:n.pageXOffset,top:n.pageYOffset},ui.box._u(n.innerWidth)?ui.box._u(e)||ui.box._u(e.clientWidth)||0==e.clientWidth?{width:t.clientWidth,height:t.clientHeight}:{width:e.clientWidth,height:e.clientHeight}:{width:n.innerWidth,height:n.innerHeight})},_u:function(){for(var e=0;e<arguments.length;e++)if("undefined"!=typeof arguments[e])return!1;return!0},_cssForOverlay:function(){return{width:"100%",height:jQuery(document).height()}},center:function(e){var t=ui.box._viewport(),n=[t.left,t.top];return e&&"x"!=e||this.centerAt(n[0]+t.width/2,null),$(".boxy-wrapper").height()>t.height?(this.moveToY(0),$("#tsbox_content").css({height:t.height-60,"overflow-y":"auto"})):(e&&"y"!=e||this.centerAt(null,n[1]+t.height/2),$("#tsbox_content").css({height:"","overflow-y":"none"})),this},moveToX:function(e){return"number"==typeof e?$("#tsbox").css({left:e}):this.centerX(),this},moveToY:function(e){return"number"==typeof e?$("#tsbox").css({top:e}):this.centerY(),this},centerAt:function(e,t){var n=this.getSize();return"number"==typeof e&&this.moveToX(e-n[0]/2),"number"==typeof t&&this.moveToY(t-n[1]/2),this},centerAtX:function(e){return this.centerAt(e,null)},centerAtY:function(e){return this.centerAt(null,e)},getSize:function(){return[$("#tsbox").width(),$("#tsbox").height()]},getContent:function(){return $("#tsbox").find(".boxy-content")},getPosition:function(){var e=$("#tsbox");return[e.offsetLeft,e.offsetTop]},getContentSize:function(){var e=this.getContent();return[e.width(),e.height()]},_getBoundsForResize:function(e,t){var n=this.getContentSize(),r=[e-n[0],t-n[1]],o=this.getPosition();return[Math.max(o[0]-r[0]/2,0),Math.max(o[1]-r[1]/2,0),e,t]},ajaxLogin:function(e){this.init({title:"",width:480});var t={url:"/home/public/loginform",type:"GET",dataType:"html",cache:!1,success:function(e){ui.box.setcontent(e),ui.box.center(),$("#email").focus()}};this._overflow(),this.resizeOn(),ui.box.setcontent('<div style="width:150px;height:70px;text-align:center"><div class="load">&nbsp;</div></div>'),this.center(),jQuery.ajax(t)},resizeOn:function(){var e=this;$(window).on("resize.modal",function(){e.center()})},resizeOff:function(){$(window).off("resize.modal")}})},{"./common/juicer.setting.js":2,"byted-toc-sso-sdk/src/bisAccount.js":5}],2:[function(require,module,exports){function e(e){return e<10?"0"+e:e}var t=require("juicer"),n=require("emojicharstring");window.Template={render:function(e,n){var r=document.getElementById(e).innerHTML;return t(r,n)},_load:function(){$.get("//img-bcy-qnpubin.pstatp.com/Template/templates-72b6c4ad10.html").done(function(e){var t=$('<div id="js-templates">').append($(e));$("body").append(t)})}},$(function(){Template._load(),t.set({"tag::operationOpen":"@{","tag::operationClose":"}"})});var r=function(e){var t=e.replace(/-/g,"/");return new Date(t).getTime().toString().substr(0,10)},o=function(e){var t,n=Date.parse(new Date)/1e3;return"string"==typeof e&&(19===e.length&&(e=r(e)),e=parseInt(e)),e>n&&(e=n),t=n-e,dDay=t/3600/24,dYear=parseInt(new Date(n).getYear())-parseInt(new Date(e).getYear()),t<60?t+"秒前":t<3600?parseInt(t/60)+"分钟前":t>=3600&&dDay<=1?parseInt(t/3600)+"小时前":dDay>0&&dDay<7?parseInt(dDay)+"天前":dDay>=7&&dDay<30?parseInt(dDay/7)+"周前":dDay>=30?parseInt(dDay/30)+"个月前":void 0};t.register("friendlyDate",o);var s=function(e){return"/u/"+e};t.register("getUserSpace",s),t.register("getShort",function(e,t){var r=new n($("<div>"+e+"</div>").text());return r.length<=t?e:r.substr(0,t)+"..."}),t.register("changeFen2Yuan",function(e,t){return(parseInt(e)/100).toFixed(t)}),t.register("default",function(e,t){return e==undefined||""==e?t:e}),t.register("defaultUserFace",function(e,t){return e!=undefined&&""!=e?e:"f"==t?"//img-bcy-qnpubin.pstatp.com/Image/avatar/user_pic_fat-3b01d7c291.png":"b"==t?"//img-bcy-qnpubin.pstatp.com/Image/avatar/user_pic_big-a295c2cd68.png":"m"==t?"//img-bcy-qnpubin.pstatp.com/Image/avatar/user_pic_middle-cc517f0f3b.png":"s"==t?"//img-bcy-qnpubin.pstatp.com/Image/avatar/user_pic_small-37aa7c5a90.png":void 0}),t.register("linkUrl",function(e,t){if(e){var n=/((?:https?):\/\/bcy\.net(?:\/.[^\u4e00-\u9fa5\s<'"·×—‘’“”…、。《》『』【】!（），：；？]*)?)/gi;e=e.replace(n,"<a href='$&' target='_blank'>$&</a>")}return t&&(e=t(e)),e}),t.register("formatVideoTime",function(e){var e=Math.floor(e),t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),r=e-3600*t-60*n;return t<10&&(t="0"+t),n<10&&(n="0"+n),r<10&&(r="0"+r),0<t?t+":"+n+":"+r:n+":"+r}),t.register("replyShortImg",function(e){return e=-1!=e.search(/(<\/a>.+\: )/g)?e.replace(/(<\/a>.+\: )/g,"$1[图片]"):"[图片]"+e}),t.register("getWidByLink",function(e){return e.match(/circle\/index\/(\d+)/,"g")[1]}),t.register("defaultByZero",function(e,t){return 0==e?t:e}),t.register("getDuration",function(t){return Math.floor(t/60)+":"+e(Math.floor(t%60))}),window.juicer=t},{emojicharstring:7,juicer:3}],3:[function(require,module,exports){(function(e){!function(){var t=function(){var e=[].slice.call(arguments);return e.push(t.options),e[0].match(/^\s*#([\w:\-\.]+)\s*$/gim)&&e[0].replace(/^\s*#([\w:\-\.]+)\s*$/gim,function(t,n){var r=document,o=r&&r.getElementById(n);e[0]=o?o.value||o.innerHTML:t}),1==arguments.length?t.compile.apply(t,e):arguments.length>=2?t.to_html.apply(t,e):void 0},n={escapehash:{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","/":"&#x2f;"},escapereplace:function(e){return n.escapehash[e]},escaping:function(e){return"string"!=typeof e?e:e.replace(/[&<>"]/gim,this.escapereplace)},detection:function(e){return void 0===e?"":e}},r=function(e){if("undefined"!=typeof console){if(console.warn)return void console.warn(e);if(console.log)return void console.log(e)}throw e},o=function(e,t){if(e=e!==Object(e)?{}:e,e.__proto__)return e.__proto__=t,e;var n=function(){},r=Object.create?Object.create(t):new(n.prototype=t,n);for(var o in e)e.hasOwnProperty(o)&&(r[o]=e[o]);return r};t.__cache={},t.version="0.6.5-stable",t.settings={},t.tags={operationOpen:"{@",operationClose:"}",interpolateOpen:"\\${",interpolateClose:"}",noneencodeOpen:"\\$\\${",noneencodeClose:"}",commentOpen:"\\{#",commentClose:"\\}"},t.options={cache:!0,strip:!0,errorhandling:!0,detection:!0,_method:o({__escapehtml:n,__throw:r,__juicer:t},{})},t.tagInit=function(){var e=t.tags.operationOpen+"each\\s*([^}]*?)\\s*as\\s*(\\w*?)\\s*(,\\s*\\w*?)?"+t.tags.operationClose,n=t.tags.operationOpen+"\\/each"+t.tags.operationClose,r=t.tags.operationOpen+"if\\s*([^}]*?)"+t.tags.operationClose,o=t.tags.operationOpen+"\\/if"+t.tags.operationClose,s=t.tags.operationOpen+"else"+t.tags.operationClose,i=t.tags.operationOpen+"else if\\s*([^}]*?)"+t.tags.operationClose,a=t.tags.interpolateOpen+"([\\s\\S]+?)"+t.tags.interpolateClose,c=t.tags.noneencodeOpen+"([\\s\\S]+?)"+t.tags.noneencodeClose,u=t.tags.commentOpen+"[^}]*?"+t.tags.commentClose,l=t.tags.operationOpen+"each\\s*(\\w*?)\\s*in\\s*range\\(([^}]+?)\\s*,\\s*([^}]+?)\\)"+t.tags.operationClose,f=t.tags.operationOpen+"include\\s*([^}]*?)\\s*,\\s*([^}]*?)"+t.tags.operationClose;t.settings.forstart=new RegExp(e,"igm"),t.settings.forend=new RegExp(n,"igm"),t.settings.ifstart=new RegExp(r,"igm"),t.settings.ifend=new RegExp(o,"igm"),t.settings.elsestart=new RegExp(s,"igm"),t.settings.elseifstart=new RegExp(i,"igm"),t.settings.interpolate=new RegExp(a,"igm"),t.settings.noneencode=new RegExp(c,"igm"),t.settings.inlinecomment=new RegExp(u,"igm"),t.settings.rangestart=new RegExp(l,"igm"),t.settings.include=new RegExp(f,"igm")},t.tagInit(),t.set=function(e,t){var n=this,r=function(e){return e.replace(/[\$\(\)\[\]\+\^\{\}\?\*\|\.]/gim,function(e){return"\\"+e})},o=function(e,t){var o=e.match(/^tag::(.*)$/i);if(o)return n.tags[o[1]]=r(t),void n.tagInit();n.options[e]=t};if(2===arguments.length)return void o(e,t);if(e===Object(e))for(var s in e)e.hasOwnProperty(s)&&o(s,e[s])},t.register=function(e,t){var n=this.options._method;return!n.hasOwnProperty(e)&&(n[e]=t)},t.unregister=function(e){var t=this.options._method;if(t.hasOwnProperty(e))return delete t[e]},t.template=function(n){var r=this;this.options=n,this.__interpolate=function(e,t,n){var r,o=e.split("|"),s=o[0]||"";return o.length>1&&(e=o.shift(),r=o.shift().split(","),s="_method."+r.shift()+".call({}, "+[e].concat(r)+")"),"<%= "+(t?"_method.__escapehtml.escaping":"")+"("+(n&&!1===n.detection?"":"_method.__escapehtml.detection")+"("+s+")) %>"},this.__removeShell=function(e,n){var o=0;return e=e.replace(t.settings.forstart,function(e,t,n,r){var n=n||"value",r=r&&r.substr(1),s="i"+o++;return"<% ~function() {for(var "+s+" in "+t+") {if("+t+".hasOwnProperty("+s+")) {var "+n+"="+t+"["+s+"];"+(r?"var "+r+"="+s+";":"")+" %>"}).replace(t.settings.forend,"<% }}}(); %>").replace(t.settings.ifstart,function(e,t){return"<% if("+t+") { %>"}).replace(t.settings.ifend,"<% } %>").replace(t.settings.elsestart,function(e){return"<% } else { %>"}).replace(t.settings.elseifstart,function(e,t){return"<% } else if("+t+") { %>"}).replace(t.settings.noneencode,function(e,t){return r.__interpolate(t,!1,n)}).replace(t.settings.interpolate,function(e,t){return r.__interpolate(t,!0,n)}).replace(t.settings.inlinecomment,"").replace(t.settings.rangestart,function(e,t,n,r){var s="j"+o++;return"<% ~function() {for(var "+s+"="+n+";"+s+"<"+r+";"+s+"++) {{var "+t+"="+s+"; %>"}).replace(t.settings.include,function(e,t,n){return"<%= _method.__juicer("+t+", "+n+"); %>"}),n&&!1===n.errorhandling||(e="<% try { %>"+e,e+='<% } catch(e) {_method.__throw("Juicer Render Exception: "+e.message);} %>'),e},this.__toNative=function(e,t){return this.__convert(e,!t||t.strip)},this.__lexicalAnalyze=function(n){var r=[],o=[],s="",i=["if","each","_","_method","console","break","case","catch","continue","debugger","default","delete","do","finally","for","function","in","instanceof","new","return","switch","this","throw","try","typeof","var","void","while","with","null","typeof","class","enum","export","extends","import","super","implements","interface","let","package","private","protected","public","static","yield","const","arguments","true","false","undefined","NaN"],a=function(e,t){if(Array.prototype.indexOf&&e.indexOf===Array.prototype.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},c=function(n,s){if(s=s.match(/\w+/gim)[0],-1===a(r,s)&&-1===a(i,s)&&-1===a(o,s)){if("undefined"!=typeof window&&"function"==typeof window[s]&&window[s].toString().match(/^\s*?function \w+\(\) \{\s*?\[native code\]\s*?\}\s*?$/i))return n;if(void 0!==e&&"function"==typeof e[s]&&e[s].toString().match(/^\s*?function \w+\(\) \{\s*?\[native code\]\s*?\}\s*?$/i))return n;if("function"==typeof t.options._method[s]||t.options._method.hasOwnProperty(s))return o.push(s),n;r.push(s)}return n};n.replace(t.settings.forstart,c).replace(t.settings.interpolate,c).replace(t.settings.ifstart,c).replace(t.settings.elseifstart,c).replace(t.settings.include,c).replace(/[\+\-\*\/%!\?\|\^&~<>=,\(\)\[\]]\s*([A-Za-z_]+)/gim,c);for(var u=0;u<r.length;u++)s+="var "+r[u]+"=_."+r[u]+";";for(var u=0;u<o.length;u++)s+="var "+o[u]+"=_method."+o[u]+";";return"<% "+s+" %>"},this.__convert=function(e,t){var n=[].join("");return n+="'use strict';",n+="var _=_||{};",n+="var _out='';_out+='",n+=!1!==t?e.replace(/\\/g,"\\\\").replace(/[\r\t\n]/g," ").replace(/'(?=[^%]*%>)/g,"\t").split("'").join("\\'").split("\t").join("'").replace(/<%=(.+?)%>/g,"';_out+=$1;_out+='").split("<%").join("';").split("%>").join("_out+='")+"';return _out;":e.replace(/\\/g,"\\\\").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t").replace(/[\n]/g,"\\n").replace(/'(?=[^%]*%>)/g,"\t").split("'").join("\\'").split("\t").join("'").replace(/<%=(.+?)%>/g,"';_out+=$1;_out+='").split("<%").join("';").split("%>").join("_out+='")+"';return _out.replace(/[\\r\\n]\\s+[\\r\\n]/g, '\\r\\n');"},this.parse=function(e,t){var n=this;return t&&!1===t.loose||(e=this.__lexicalAnalyze(e)+e),e=this.__removeShell(e,t),e=this.__toNative(e,t),this._render=new Function("_, _method",e),this.render=function(e,t){return t&&t===r.options._method||(t=o(t,r.options._method)),n._render.call(this,e,t)},this}},t.compile=function(e,t){t&&t===this.options||(t=o(t,this.options));try{var n=this.__cache[e]?this.__cache[e]:new this.template(this.options).parse(e,t);return t&&!1===t.cache||(this.__cache[e]=n),n}catch(s){return r("Juicer Compile Exception: "+s.message),{render:function(){}}}},t.to_html=function(e,t,n){return n&&n===this.options||(n=o(n,this.options)),this.compile(e,n).render(t,n._method)},void 0!==module&&module.exports?module.exports=t:this.juicer=t}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(require,module,exports){},{}],5:[function(require,module,exports){function e(e){var t=e||{};this._default={aid:t.aid}}var t=require("reqwest"),n=require("es6-promise"),r=require("./lib/utils");n.polyfill();e.prototype._paramsPack=function(e){return"object"!=typeof e&&(e={}),e=e||{},r.extend(e,this._default)},e.prototype.__encrypt=function(e){var t,n,r=[];if(void 0===e)return"";for(e+="",t=0,n=e.length;t<n;++t)r.push((5^e.charCodeAt(t)).toString(16));return r.join("")},e.prototype.__encryptParams=function(e,t){var n,o,s,i=0;if("object"!=typeof e)return e;for(e=r.extend({},e),t=t||[],n=0,o=t.length;n<o;++n)void 0!==(s=e[t[n]])&&(i|=1,e[t[n]]=this.__encrypt(s));return e.mix_mode=i,e},e.prototype.userLogin=function(e,n){var o=n?"/passport/web/user/login/?account_sdk_source=web":"/passport/web/sms_login/?account_sdk_source=web";return this._paramsPack(e),new Promise(function(n,s){t({url:o,method:"POST",data:e,headers:{"X-CSRFToken":r.getCookie("csrftoken")},success:function(e){var t=e.data||{};"success"===e.message?n({status:"success",data:t}):s({status:"fail",captcha:t.captcha||"",message:t.description||"",error_code:t.error_code})},error:function(){s({status:"fail",captcha:"",message:"网络请求失败，请重试",error_code:-1})}})})},e.prototype.accountSet=function(e){return this._paramsPack(e),e=this.__encryptParams(e,["username","password"]),new Promise(function(n,r){t({url:"/passport/web/account/set/",method:"POST",data:e,success:function(e){var t=e.data||{};"success"===e.message?n({status:"success"}):r({status:"fail",error_code:t.error_code})}})})},e.prototype.pwdSet=function(e){return this._paramsPack(e),new Promise(function(n,r){t({url:"/passport/web/password/set/?account_sdk_source=web",method:"POST",data:e,success:function(e){var t=e.data||{};"success"===e.message?n({status:"success"}):r({status:"fail",captcha:t.captcha||"",message:t.description||"",error_code:t.error_code})},error:function(){r({status:"fail",message:"网络请求失败，请重试",error_code:-1})}})})},e.prototype.pwdChange=function(e){return this._paramsPack(e),new Promise(function(n,r){t({url:"/passport/web/password/change/?account_sdk_source=web",method:"POST",data:e,success:function(e){var t=e.data||{};"success"===e.message?n({status:"success"}):r({status:"fail",captcha:t.captcha||"",message:t.description||"",error_code:t.error_code})},error:function(){r({status:"fail",message:"网络请求失败，请重试",error_code:-1})}})})},e.prototype.pwdReset=function(e){return this._paramsPack(e),new Promise(function(n,r){t({url:"/passport/web/password/reset/?account_sdk_source=web",method:"POST",data:e,success:function(e){var t=e.data||{};"success"===e.message?n({status:"success",data:t}):r({status:"fail",captcha:t.captcha||"",message:t.description||"",error_code:t.error_code})},error:function(){r({status:"fail",message:"网络请求失败，请重试",error_code:-1})}})})},e.prototype.getMobileCode=function(e){return this._paramsPack(e),new Promise(function(n,r){t({url:"/passport/web/send_code/?account_sdk_source=web",method:"GET",data:e,success:function(e){var t=e.data||{};"success"===e.message?n({status:"success"}):r({status:"fail",captcha:t.captcha||"",message:t.description||"",
error_code:t.error_code})},error:function(){r({status:"fail",message:"网络请求失败，请重试",error_code:-1})}})})},e.prototype.bindMobile=function(e){return this._paramsPack(e),new Promise(function(n,r){t({url:"/passport/web/mobile/bind/?account_sdk_source=web",method:"GET",data:e,success:function(e){var t=e.data||{};"success"===e.message?n({status:"success",data:t}):r({status:"fail",message:t.description||"",error_code:t.error_code})},error:function(){r({status:"fail",message:"网络请求失败，请重试",error_code:-1})}})})},e.prototype.setCodeStatus=function(e,t){var n=t||60,r=null;return new Promise(function(t,o){r=setInterval(function(){if(0===n)return clearInterval(r),r=null,t(),!1;e.text=n+"s重新获取",n--},1e3)})},e.prototype.refreshCaptcha=function(){return new Promise(function(e,n){t({url:"/passport/web/refresh_captcha/?account_sdk_source=web",method:"GET",success:function(t){var r=t.data||{};"success"===t.message?e({status:"success",captcha:r.captcha||""}):n({status:"fail",message:r.description||"",error_code:r.error_code})},error:function(){n({status:"fail",message:"网络请求失败，请重试",error_code:-1})}})})},e.prototype.logout=function(e){e=e||"/",e=encodeURIComponent(e),location.href="/passport/web/logout/?account_sdk_source=web&next="+e},e.prototype.emailPwdReset=function(e){return this._paramsPack(e),new Promise(function(n,r){t({url:"/passport/web/email/password/reset/?account_sdk_source=web",method:"POST",data:e,success:function(e){var t=e.data||{};"success"===e.message?n({status:"success"}):r({status:"fail",captcha:t.captcha||"",message:t.description||"",error_code:t.error_code})},error:function(){r({status:"fail",message:"网络请求失败，请重试",error_code:-1})}})})},e.prototype.emailPwdUpdate=function(e){return this._paramsPack(e),new Promise(function(n,r){t({url:"/passport/web/password/update/?account_sdk_source=web",method:"POST",data:e,success:function(e){var t=e.data||{};"success"===e.message?n({status:"success"}):r({status:"fail",captcha:t.captcha||"",message:t.description||"",error_code:t.error_code})},error:function(){r({status:"fail",message:"网络请求失败，请重试",error_code:-1})}})})},e.prototype.getEmailCode=function(e){return this._paramsPack(e),e=this.__encryptParams(e,["type","email","password"]),new Promise(function(n,r){t({url:"/passport/web/email/send_code/?account_sdk_source=web",method:"POST",data:e,success:function(e){var t=e.data||{};"success"===e.message?n({status:"success"}):r({status:"fail",captcha:t.captcha||"",message:t.description||"",error_code:t.error_code})},error:function(){r({status:"fail",message:"网络请求失败，请重试",error_code:-1})}})})},e.prototype.emailVerify=function(e){return this._paramsPack(e),new Promise(function(n,r){t({url:"/passport/web/email/register_verify/?account_sdk_source=web",method:"POST",data:e,success:function(e){var t=e.data||{};"success"===e.message?n({status:"success"}):r({status:"fail",captcha:t.captcha||"",message:t.description||"",error_code:t.error_code})},error:function(){r({status:"fail",message:"网络请求失败，请重试",error_code:-1})}})})},e.prototype.ssoLogin=function(e){this._paramsPack(e),e.next=e.next||"/",location.href="/passport/web/web_login?platform_app_id="+e.platform_app_id+"&platform="+e.platform+"&aid="+e.aid+"&next="+encodeURIComponent(e.next)},e.prototype.oauthBind=function(e,n){return this._paramsPack(e),new Promise(function(r,o){t({url:n?"/passport/web/auth/bind/v2/":"/passport/web/auth/bind/",method:"POST",data:e,success:function(e){var t=e.data||{};"success"===e.message?r({status:"success",data:t}):o({status:"fail",message:t.description||"",error_code:t.error_code})},error:function(){o({status:"fail",message:"网络请求失败，请重试",error_code:-1})}})})},e.prototype.oauthUnbind=function(e){return this._paramsPack(e),new Promise(function(n,r){t({url:"/passport/web/auth/unbind/",method:"GET",data:e,success:function(e){var t=e.data||{};"success"===e.message?n({status:"success"}):r({status:"fail",message:t.description||"",error_code:t.error_code})},error:function(){r({status:"fail",message:"网络请求失败，请重试",error_code:-1})}})})},e.prototype.getAccountInfo=function(){var e=this._paramsPack();return new Promise(function(n,r){t({url:"/passport/web/account/info/",method:"GET",data:e,success:function(e){var t=e.data||{};"success"===e.message?n({status:"success",data:t}):r({status:"fail",message:t.description||"",error_code:t.error_code})},error:function(){r({status:"fail",message:"网络请求失败，请重试",error_code:-1})}})})},e.prototype.bindEmail=function(e){return this._paramsPack(e),e=this.__encryptParams(e,["email","code"]),new Promise(function(n,r){t({url:"/passport/web/email/bind/",method:"POST",data:e,success:function(e){var t=e.data||{};"success"===e.message?n({status:"success",data:t}):r({status:"fail",message:t.description||"",error_code:t.error_code})},error:function(){r({status:"fail",message:"网络请求失败，请重试",error_code:-1})}})})},module.exports=e},{"./lib/utils":6,"es6-promise":8,reqwest:10}],6:[function(require,module,exports){function e(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?unescape(t[2]):null}function t(e){for(var t,n,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}module.exports={getCookie:e,extend:t}},{}],7:[function(require,module,exports){!function(e,t){if("function"==typeof define&&define.amd)define(["module","exports"],t);else if(void 0!==exports)t(module,exports);else{var n={exports:{}};t(n,n.exports),e.EmojiCharString=n.exports}}(this,function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=/\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|(?:[^\ud800-\udfff][\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]?|[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?)*/g,s=function(){function e(t){if(n(this,e),"string"!=typeof t)throw new Error("Input must be a string");this._string=t,this._match=t.match(o)||[]}return r(e,[{key:"reverse",value:function(){return this._match.reverse().join("")}},{key:"substring",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],n=this.length,r=(parseInt(e,10)||0)<0?0:parseInt(e,10)||0,o=void 0;if(o=void 0===t?n:(parseInt(t,10)||0)<0?0:parseInt(t,10)||0,r>n&&(r=n),o>n&&(o=n),r>o){var s=[o,r];r=s[0],o=s[1]}return this._match.slice(r,o).join("")}},{key:"substr",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],n=this.length,r=parseInt(e,10)||0,o=void 0;return r>=n||t<=0?"":(r<0&&(r=Math.max(0,r+n)),o=void 0===t?n:r+(parseInt(t,10)||0),this._match.slice(r,o).join(""))}},{key:"length",get:function(){return this._match.length}}]),e}();t["default"]=s,e.exports=t["default"]})},{}],8:[function(require,module,exports){(function(e,t){!function(e,t){"object"==typeof exports&&void 0!==module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.ES6Promise=t()}(this,function(){"use strict";function n(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function r(e){return"function"==typeof e}function o(e){L=e}function s(e){U=e}function i(){return void 0!==M?function(){M(c)}:a()}function a(){var e=setTimeout;return function(){return e(c,1)}}function c(){for(var e=0;e<F;e+=2){(0,Y[e])(Y[e+1]),Y[e]=undefined,Y[e+1]=undefined}F=0}function u(e,t){var n=this,r=new this.constructor(f);r[V]===undefined&&A(r);var o=n._state;if(o){var s=arguments[o-1];U(function(){return C(o,r,s,n._result)})}else $(n,r,e,t);return r}function l(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(f);return w(n,e),n}function f(){}function d(){return new TypeError("You cannot resolve a promise with itself")}function p(){return new TypeError("A promises callback cannot return that same promise.")}function h(e){try{return e.then}catch(t){return ee.error=t,ee}}function m(e,t,n,r){try{e.call(t,n,r)}catch(o){return o}}function g(e,t,n){U(function(e){var r=!1,o=m(n,t,function(n){r||(r=!0,t!==n?w(e,n):b(e,n))},function(t){r||(r=!0,x(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&o&&(r=!0,x(e,o))},e)}function _(e,t){t._state===K?b(e,t._result):t._state===Z?x(e,t._result):$(t,undefined,function(t){return w(e,t)},function(t){return x(e,t)})}function v(e,t,n){t.constructor===e.constructor&&n===u&&t.constructor.resolve===l?_(e,t):n===ee?(x(e,ee.error),ee.error=null):n===undefined?b(e,t):r(n)?g(e,t,n):b(e,t)}function w(e,t){e===t?x(e,d()):n(t)?v(e,t,h(t)):b(e,t)}function y(e){e._onerror&&e._onerror(e._result),k(e)}function b(e,t){e._state===G&&(e._result=t,e._state=K,0!==e._subscribers.length&&U(k,e))}function x(e,t){e._state===G&&(e._state=Z,e._result=t,U(y,e))}function $(e,t,n,r){var o=e._subscribers,s=o.length;e._onerror=null,o[s]=t,o[s+K]=n,o[s+Z]=r,0===s&&e._state&&U(k,e)}function k(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,s=e._result,i=0;i<t.length;i+=3)r=t[i],o=t[i+n],r?C(n,r,o,s):o(s);e._subscribers.length=0}}function j(e,t){try{return e(t)}catch(n){return ee.error=n,ee}}function C(e,t,n,o){var s=r(n),i=void 0,a=void 0,c=void 0,u=void 0;if(s){if(i=j(n,o),i===ee?(u=!0,a=i.error,i.error=null):c=!0,t===i)return void x(t,p())}else i=o,c=!0;t._state!==G||(s&&c?w(t,i):u?x(t,a):e===K?b(t,i):e===Z&&x(t,i))}function T(e,t){try{t(function(t){w(e,t)},function(t){x(e,t)})}catch(n){x(e,n)}}function O(){return te++}function A(e){e[V]=te++,e._state=undefined,e._result=undefined,e._subscribers=[]}function P(){return new Error("Array Methods must be provided an Array")}function S(e){return new ne(this,e).promise}function q(e){var t=this;return new t(z(e)?function(n,r){for(var o=e.length,s=0;s<o;s++)t.resolve(e[s]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function E(e){var t=this,n=new t(f);return x(n,e),n}function I(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function R(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function H(){var e=void 0;if(void 0!==t)e=t;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(o){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;if(n){var r=null;try{r=Object.prototype.toString.call(n.resolve())}catch(o){}if("[object Promise]"===r&&!n.cast)return}e.Promise=re}var D=void 0;D=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var z=D,F=0,M=void 0,L=void 0,U=function(e,t){Y[F]=e,Y[F+1]=t,2===(F+=2)&&(L?L(c):J())},B="undefined"!=typeof window?window:undefined,Q=B||{},W=Q.MutationObserver||Q.WebKitMutationObserver,X="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),N="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Y=new Array(1e3),J=void 0;J=X?function(){return function(){return e.nextTick(c)}}():W?function(){var e=0,t=new W(c),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():N?function(){var e=new MessageChannel;return e.port1.onmessage=c,function(){return e.port2.postMessage(0)}}():B===undefined&&"function"==typeof require?function(){try{var e=Function("return this")().require("vertx");return M=e.runOnLoop||e.runOnContext,i()}catch(t){return a()}}():a();var V=Math.random().toString(36).substring(2),G=void 0,K=1,Z=2,ee={error:null},te=0,ne=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(f),this.promise[V]||A(this.promise),z(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?b(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&b(this.promise,this._result))):x(this.promise,P())}return e.prototype._enumerate=function(e){for(var t=0;this._state===G&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===l){var o=h(e);if(o===u&&e._state!==G)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===re){var s=new n(f);v(s,e,o),this._willSettleAt(s,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===G&&(this._remaining--,e===Z?x(r,n):this._result[t]=n),0===this._remaining&&b(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;$(e,undefined,function(e){return n._settledAt(K,t,e)},function(e){return n._settledAt(Z,t,e)})},e}(),re=function(){function e(t){this[V]=O(),this._result=this._state=undefined,this._subscribers=[],f!==t&&("function"!=typeof t&&I(),this instanceof e?T(this,t):R())}return e.prototype["catch"]=function(e){return this.then(null,e)},e.prototype["finally"]=function(e){var t=this,n=t.constructor;return r(e)?t.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):t.then(e,e)},e}();return re.prototype.then=u,re.all=S,re.race=q,re.resolve=l,re.reject=E,re._setScheduler=o,re._setAsap=s,re._asap=U,re.polyfill=H,re.Promise=re,re})}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:9}],9:[function(require,module,exports){function e(){throw new Error("setTimeout has not been defined")}function t(){throw new Error("clearTimeout has not been defined")}function n(t){if(c===setTimeout)return setTimeout(t,0);if((c===e||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(n){try{return c.call(null,t,0)}catch(n){return c.call(this,t,0)}}}function r(e){if(u===clearTimeout)return clearTimeout(e);if((u===t||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{return u(e)}catch(n){try{return u.call(null,e)}catch(n){return u.call(this,e)}}}function o(){p&&f&&(p=!1,f.length?d=f.concat(d):h=-1,d.length&&s())}function s(){if(!p){var e=n(o);p=!0;for(var t=d.length;t;){for(f=d,d=[];++h<t;)f&&f[h].run();h=-1,t=d.length}f=null,p=!1,r(e)}}function i(e,t){this.fun=e,this.array=t}function a(){}var c,u,l=module.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:e}catch(n){c=e}try{u="function"==typeof clearTimeout?clearTimeout:t}catch(n){u=t}}();var f,d=[],p=!1,h=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];d.push(new i(e,t)),1!==d.length||p||n(s)},i.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=a,l.addListener=a,l.once=a,l.off=a,l.removeListener=a,l.removeAllListeners=a,l.emit=a,l.prependListener=a,l.prependOnceListener=a,l.listeners=function(e){return[]},l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],10:[function(require,module,exports){!function(e,t,n){void 0!==module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define(n):t.reqwest=n()}(0,this,function(){function succeed(e){var t=protocolRe.exec(e.url);return t=t&&t[1]||context.location.protocol,httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,n){return function(){return e._aborted?n(e.request):e._timedOut?n(e.request,"Request is aborted: timeout"):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,succeed(e)?t(e.request):n(e.request)))}}function setHeaders(e,t){var n,r=t.headers||{};r.Accept=r.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"];var o="undefined"!=typeof FormData&&t.data instanceof FormData;t.crossOrigin||r[requestedWith]||(r[requestedWith]=defaultHeaders.requestedWith),r[contentType]||o||(r[contentType]=t.contentType||defaultHeaders.contentType);for(n in r)r.hasOwnProperty(n)&&"setRequestHeader"in e&&e.setRequestHeader(n,r[n])}function setCredentials(e,t){"undefined"!=typeof t.withCredentials&&"undefined"!=typeof e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,n,r){var o=uniqid++,s=e.jsonpCallback||"callback",i=e.jsonpCallbackName||reqwest.getcallbackPrefix(o),a=new RegExp("((^|\\?|&)"+s+")=([^&]+)"),c=r.match(a),u=doc.createElement("script"),l=0,f=-1!==navigator.userAgent.indexOf("MSIE 10.0");return c?"?"===c[3]?r=r.replace(a,"$1="+i):i=c[3]:r=urlappend(r,s+"="+i),context[i]=generalCallback,u.type="text/javascript",u.src=r,u.async=!0,"undefined"==typeof u.onreadystatechange||f||(u.htmlFor=u.id="_reqwest_"+o),u.onload=u.onreadystatechange=function(){if(u[readyState]&&"complete"!==u[readyState]&&"loaded"!==u[readyState]||l)return!1;u.onload=u.onreadystatechange=null,u.onclick&&u.onclick(),t(lastValue),lastValue=undefined,head.removeChild(u),l=1},head.appendChild(u),{abort:function(){u.onload=u.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=undefined,head.removeChild(u),l=1}}}function getRequest(e,t){var n,r=this.o,o=(r.method||"GET").toUpperCase(),s="string"==typeof r?r:r.url,i=!1!==r.processData&&r.data&&"string"!=typeof r.data?reqwest.toQueryString(r.data):r.data||null,a=!1;return"jsonp"!=r.type&&"GET"!=o||!i||(s=urlappend(s,i),i=null),"jsonp"==r.type?handleJsonp(r,e,t,s):(n=r.xhr&&r.xhr(r)||xhr(r),n.open(o,s,!1!==r.async),setHeaders(n,r),setCredentials(n,r),context[xDomainRequest]&&n instanceof context[xDomainRequest]?(n.onload=e,n.onerror=t,n.onprogress=function(){},a=!0):n.onreadystatechange=handleReadyState(this,e,t),r.before&&r.before(n),a?setTimeout(function(){n.send(i)},200):n.send(i),n)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){return null===e?undefined:e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,t,n){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=n,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,t,n);complete(e)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var n,r,o,s,i=e.name,a=e.tagName.toLowerCase(),c=function(e){e&&!e.disabled&&t(i,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))};if(!e.disabled&&i)switch(a){case"input":/reset|button|image|file/i.test(e.type)||(n=/checkbox/i.test(e.type),r=/radio/i.test(e.type),o=e.value,(!(n||r)||e.checked)&&t(i,normalize(n&&""===o?"on":o)));break;case"textarea":t(i,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())c(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(s=0;e.length&&s<e.length;s++)e.options[s].selected&&c(e.options[s])}}function eachFormElement(){var e,t,n=this;for(t=0;t<arguments.length;t++)e=arguments[t],/input|select|textarea/i.test(e.tagName)&&serial(e,n),function(e,t){var r,o,s;for(r=0;r<t.length;r++)for(s=e[byTag](t[r]),o=0;o<s.length;o++)serial(s[o],n)}(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(t,n){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(n)):e[t]=n},arguments),e}function buildParams(e,t,n,r){var o,s,i,a=/\[\]$/;if(isArray(t))for(s=0;t&&s<t.length;s++)i=t[s],n||a.test(e)?r(e,i):buildParams(e+"["+("object"==typeof i?s:"")+"]",i,n,r);else if(t&&"[object Object]"===t.toString())for(o in t)buildParams(e+"["+o+"]",t[o],n,r);else r(e,t)}var context=this;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else{var XHR2;try{XHR2=require("xhr2")}catch(ex){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(!0===e.crossOrigin){var t=context[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(e){return e}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},"catch":function(e){return this.fail(e)}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply(function(t,n){e.push({name:t,value:n})},arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t,n=Array.prototype.slice.call(arguments,0);return e=n.pop(),e&&e.nodeType&&n.push(e)&&(e=null),e&&(e=e.type),t="map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString,t.apply(null,n)},reqwest.toQueryString=function(e,t){var n,r,o=t||!1,s=[],i=encodeURIComponent,a=function(e,t){t="function"==typeof t?t():null==t?"":t,s[s.length]=i(e)+"="+i(t)};if(isArray(e))for(r=0;e&&r<e.length;r++)a(e[r].name,e[r].value);else for(n in e)e.hasOwnProperty(n)&&buildParams(n,e[n],o,a);return s.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){e=e||{};for(var t in e)globalSetupOptions[t]=e[t]},reqwest})},{xhr2:4}]},{},[1]);