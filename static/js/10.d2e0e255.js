(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"+AAa":function(t,e,a){},"1JZi":function(t,e,a){"use strict";var s=a("8U1K");a.n(s).a},"8U1K":function(t,e,a){},"8pkH":function(t,e,a){"use strict";a.r(e);var s,o=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"reg-head"},[e("img",{staticClass:"reg-logo",attrs:{src:a("Vyvd")}}),this._v(" "),e("span",{staticClass:"reg-title"},[this._v("注册")]),this._v(" "),e("a",{staticClass:"return-to-login",attrs:{href:"/login"}},[this._v("返回登录")])])}],r=a("mrSG"),n=a("YKMj"),i=a("oroS"),c=a("8TLs"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),Object(r.c)([Object(n.d)({default:""})],e.prototype,"warningToast",void 0),e=Object(r.c)([Object(n.a)({components:{Icon:c.b}})],e)}(n.e),l=(a("QCyM"),a("KHd+")),p=Object(l.a)(u,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"show",rawName:"v-show",value:this.warningToast.length,expression:"warningToast.length"}],staticClass:"ac-reg-error-toast"},[e("Icon",{attrs:{type:"reg_warning"}}),this._v(" "),e("span",{staticClass:"reg-toast-text"},[this._v(this._s(this.warningToast))])],1)}),[],!1,null,null,null).exports,m=a("vDqi"),f=a.n(m),h=a("Qyje"),d=a.n(h),g=a("AekQ"),v=a("gpvH"),b=a("Vl9Z"),D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.inputType={text:"text",password:"password"},e.placeHolderMap={phone:"请输入手机号",username:"请输入昵称",pwd:"请输入密码",textcode:"请输入短信验证码"},e.textCodeType=e.inputType.text,e.autoComplete="new-password",e.checkUniqueName="/rest/pc-direct/user/checkNameUnique",e.maxLength=16,e.minLength=3,e.formData={phone:{value:"",toast:"",reg:/^1\d{10}$/,status:!1,class:""},username:{value:"",toast:"",status:!1,class:""},pwd:{value:"",toast:"",status:!1,class:""},textCode:{value:"",toast:"",status:!1,optionName:"获取验证码",class:""},doAgree:{value:!1,toast:"",status:!1}},e.canSendMessage=!1,e.textTimer=null,e.submitText="注册",e.ztIdentityVerificationType="",e.ztIdentityVerificationCheckToken="",e.textCodeClass="",e.canSubmit=!1,e}return Object(r.d)(e,t),e.prefetch=function(t){},e.prototype.mounted=function(){b.a.log("PV",{type:"enter",page:"SIGNUP"})},e.prototype.updateFormData=function(t,e){var a=e.phone,s=e.username,o=e.pwd,r=e.textCode,n=e.doAgree;this.canSubmit=n.value&&a.status&&s.status&&o.status&&r.value.length},e.prototype.checkPhone=function(){if(this.formData.phone.value=this.formData.phone.value.trim(),this.formData.phone.reg.test(this.formData.phone.value))return this.canSendMessage=!0,void(this.formData.phone.status=!0);this.formData.phone.status=!1,this.formData.phone.toast="手机号长度应为11个字符",this.formData.phone.class="error"},e.prototype.focusPhone=function(){this.formData.phone.toast="",this.formData.phone.class=""},e.prototype.checkName=function(){var t=this;if(this.formData.username.value=this.formData.username.value.trim(),this.formData.username.value.length<2||/[/[\s\[\]\<\>\@\#\:\：]/gi.test(this.formData.username.value))return this.formData.username.status=!1,this.formData.username.class="error",this.formData.username.toast="昵称长度在2-16字之间，且不包含空格或特殊符号";f()({method:"post",url:this.checkUniqueName,data:d.a.stringify({name:this.formData.username.value}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){if(!e)return t.formData.username.class="error",t.formData.username.toast="昵称校验失败，请稍后重试～";var a=e.data,s=a.result,o=a.error_msg;return 0==s?t.formData.username.status=!0:(t.formData.username.class="error",t.formData.username.status=!1,t.formData.username.toast=o)}))},e.prototype.focusName=function(){this.formData.username.class="",this.formData.username.toast=""},e.prototype.checkPwd=function(){var t=this.formData.pwd.value;return t.length?t.length<6||t.length>32?(this.formData.pwd.status=!1,this.formData.pwd.class="error",this.formData.pwd.toast="密码长度应为6至32个字符之间!"):/\s+/g.test(this.formData.pwd.value)?(this.formData.pwd.class="error",this.formData.pwd.status=!1,this.formData.pwd.toast="密码中不能有空格!"):void(this.formData.pwd.status=!0):(this.formData.pwd.class="error",this.formData.pwd.status=!1,this.formData.pwd.toast="密码不能为空！")},e.prototype.focusPwd=function(){this.formData.pwd.class="",this.formData.pwd.toast=""},e.prototype.focusTextCode=function(){this.formData.textCode.class="",this.formData.textCode.toast=""},e.prototype.getTextCode=function(){this.formData.phone.value.length?this.canSendMessage&&this.getCode():this.formData.phone.toast="请输入手机号"},e.prototype.getCode=function(){var t=this;f()({method:"post",url:"https://"+g.a.idDomain+"/rest/web/login/sms/send",data:d.a.stringify({mobile:this.formData.phone.value,type:6,ztIdentityVerificationCheckToken:this.ztIdentityVerificationCheckToken,ztIdentityVerificationType:this.ztIdentityVerificationType}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){if(!e)return!1;var a=e.data,s=a.result,o=a.error_msg;if(0!=s){if(400002==s){var r=e.data,n=r.jsSdkUrl,i=r.url;if(n){var u,l={pageUrl:i,callback:function(e){var a=e.result,s=e.error_msg,o=e.type,r=e.token;switch(a){case 1:t.ztIdentityVerificationType=o,t.ztIdentityVerificationCheckToken=r,t.getCode(),t.handleText(),null==u||u.destroy();break;default:t.formData.textCode.class="error",t.formData.textCode.toast=s,null==u||u.destroy()}}};Object(v.e)(n).then((function(){var t=window.IdentityVerification;u=t(l)}))}return c.h.warn(o)}return c.h.warn(o)}t.handleText()}))},e.prototype.handleText=function(){var t=this;this.textTimer&&clearInterval(this.textTimer);var e=60;this.canSendMessage=!1,this.textTimer=setInterval((function(){if(e<=0)return clearInterval(t.textTimer),t.textCodeClass="",t.formData.textCode.optionName="获取验证码",t.canSendMessage=!0,t.ztIdentityVerificationType="",void(t.ztIdentityVerificationCheckToken="");t.textCodeClass="count",t.formData.textCode.optionName="重新发送("+--e+")"}),1e3)},e.prototype.agreeChanged=function(){this.formData.doAgree.value&&(this.formData.doAgree.toast="")},e.prototype.submitForm=function(){var t=this;if(this.canSubmit){if(!this.formData.doAgree.value)return this.formData.doAgree.toast="请确认已经阅读并同意AcFun的使用协议！";if(!this.formData.phone.status)return this.formData.phone.toast="手机号长度应为11个字符";if(!this.formData.username.status)return this.formData.username.toast="昵称长度在2-16字之间，且不包含空格或特殊符号";if(!this.formData.pwd.status)return this.formData.pwd.toast="请输入密码";if(!this.formData.textCode.value.length)return this.formData.textCode.toast="请输入正确的短信验证码";this.submitText="···",b.a.log("CLICK",{action:"CLICK_SIGNUP_BUTTON",params:{},type:"USER_OPERATION",urlPage:{page:"SIGNUP"}}),f()({method:"post",url:"https://"+g.a.idDomain+"/rest/web/register/mobileCode",data:d.a.stringify({username:this.formData.username.value,mobile:this.formData.phone.value,code:this.formData.textCode.value,password:this.formData.pwd.value,password2:this.formData.pwd.value}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){if(e){var a=e.data,s=a.result,o=a.error_msg;if(0==s)return t.$emit("registersuccess",String(t.formData.phone.value.trim())),c.h.success("注册成功！"),void b.a.log("CLICK",{action:"SIGNUP",params:{status:"SUCCESS"},type:"USER_OPERATION",urlPage:{page:"SIGNUP"}});c.h.warn(o),t.submitText="注册",b.a.log("CLICK",{action:"SIGNUP",params:{status:"FAIL"},type:"USER_OPERATION",urlPage:{page:"SIGNUP"}})}}))}},Object(r.c)([Object(n.f)("formData",{deep:!0})],e.prototype,"updateFormData",null),e=Object(r.c)([Object(n.a)({components:{Icon:c.b,AcInput:c.c,RegToast:p}})],e)}(n.e),C=(a("zhgN"),Object(l.a)(D,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"reg-form-wrapper"},[a("form",{staticClass:"reg-form"},[a("div",{class:t.formData.phone.class+" form-item"},[a("AcInput",{staticClass:"reg-input",attrs:{type:t.inputType.text,placeholder:t.placeHolderMap.phone,value:t.formData.phone.value,"on-blur":t.checkPhone,"on-focus":t.focusPhone,autocomplete:t.autoComplete},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("Icon",{attrs:{type:"reg_phone"}})]},proxy:!0}]),model:{value:t.formData.phone.value,callback:function(e){t.$set(t.formData.phone,"value",e)},expression:"formData.phone.value"}}),t._v(" "),a("RegToast",{staticClass:"phone-toast reg-toast",attrs:{"warning-toast":t.formData.phone.toast}})],1),t._v(" "),a("div",{class:t.formData.username.class+" form-item"},[a("AcInput",{staticClass:"reg-input",attrs:{type:t.inputType.text,placeholder:t.placeHolderMap.username,value:t.formData.username.value,maxlength:t.maxLength,"on-blur":t.checkName,"on-focus":t.focusName,autocomplete:t.autoComplete},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("Icon",{attrs:{type:"reg_username"}})]},proxy:!0}]),model:{value:t.formData.username.value,callback:function(e){t.$set(t.formData.username,"value",e)},expression:"formData.username.value"}}),t._v(" "),a("RegToast",{staticClass:"username-toast reg-toast",attrs:{"warning-toast":t.formData.username.toast}})],1),t._v(" "),a("div",{class:t.formData.pwd.class+" form-item"},[a("AcInput",{staticClass:"reg-input",attrs:{type:t.inputType.password,placeholder:t.placeHolderMap.pwd,value:t.formData.pwd.value,"on-blur":t.checkPwd,"on-focus":t.focusPwd,autocomplete:t.autoComplete},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("Icon",{attrs:{type:"reg_pwd"}})]},proxy:!0}]),model:{value:t.formData.pwd.value,callback:function(e){t.$set(t.formData.pwd,"value",e)},expression:"formData.pwd.value"}}),t._v(" "),a("RegToast",{staticClass:"pwd-toast reg-toast",attrs:{"warning-toast":t.formData.pwd.toast}})],1),t._v(" "),a("div",{class:t.formData.textCode.class+" form-item"},[a("AcInput",{staticClass:"reg-input reg-textcode",attrs:{type:t.textCodeType,placeholder:t.placeHolderMap.textcode,value:t.formData.textCode.value,autocomplete:t.autoComplete,"on-focus":t.focusTextCode},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("Icon",{attrs:{type:"reg_textcode"}})]},proxy:!0},{key:"suffix",fn:function(){return[a("span",{class:t.textCodeClass+" get-text-code",on:{click:t.getTextCode}},[t._v(t._s(t.formData.textCode.optionName))])]},proxy:!0}]),model:{value:t.formData.textCode.value,callback:function(e){t.$set(t.formData.textCode,"value",e)},expression:"formData.textCode.value"}},[t._v("\n        >\n        ")]),t._v(" "),a("RegToast",{staticClass:"textcode-toast reg-toast",attrs:{"warning-toast":t.formData.textCode.toast}})],1),t._v(" "),a("div",{class:t.canSubmit?"reg-submit active":"reg-submit",on:{click:t.submitForm}},[t._v("\n      "+t._s(t.submitText)+"\n    ")]),t._v(" "),a("div",{staticClass:"reg-agree"},[a("label",{staticClass:"reg-g-checkbox-wrapper"},[a("span",{class:t.formData.doAgree.value?"reg-g-checkbox reg-g-checkbox-checked":"reg-g-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.doAgree.value,expression:"formData.doAgree.value"}],staticClass:"reg-g-checkbox-input",attrs:{id:"reg-agree-item",type:"checkbox",value:""},domProps:{checked:Array.isArray(t.formData.doAgree.value)?t._i(t.formData.doAgree.value,"")>-1:t.formData.doAgree.value},on:{change:[function(e){var a=t.formData.doAgree.value,s=e.target,o=!!s.checked;if(Array.isArray(a)){var r=t._i(a,"");s.checked?r<0&&t.$set(t.formData.doAgree,"value",a.concat([""])):r>-1&&t.$set(t.formData.doAgree,"value",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.formData.doAgree,"value",o)},t.agreeChanged]}}),t._v(" "),a("span",{staticClass:"reg-g-checkbox-inner"})]),t._v(" "),t._m(0),t._v(" "),a("RegToast",{staticClass:"agree-toast agree-toast",attrs:{"warning-toast":t.formData.doAgree.toast}})],1)]),t._v(" "),a("div",{staticClass:"reg-toast"},[t._v("\n      海外用户请邮件联系ac-report@kuaishou.com\n    ")])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"reg-g-checkbox-text reg-check-text"},[this._v("我已经认真阅读并同意AcFun的"),e("a",{staticClass:"agreement",attrs:{href:"/info/#page=agreement",target:"_blank"}},[this._v("《使用协议》")])])}],!1,null,null,null).exports),_=a("L2JU"),y=a("KrhE"),w="ChangeKconf",x=((s={})[w]=function(t,e){t.kconf=e},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"success-top"},[e("img",{staticClass:"success-img",attrs:{src:a("gQ4I")}}),this._v(" "),e("div",{staticClass:"success-toast"},[this._v("\n      注册成功!\n    ")])])}]),k=a("2+xv"),O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.countTimer=null,e.mobileNumber="",e}return Object(r.d)(e,t),e.prefetch=function(t){},e.prototype.mounted=function(){this.mobileNumber=this.mobile},e.prototype.onNumberChanged=function(t,e){t.length>0?this.setTimer():clearTimeout(this.countTimer)},e.prototype.setTimer=function(){this.countTimer=setTimeout((function(){window.location.href="/login/"}),3e3)},Object(r.c)([Object(n.d)({default:""})],e.prototype,"mobile",void 0),Object(r.c)([Object(n.f)("mobile",{immediate:!0})],e.prototype,"onNumberChanged",null),e=Object(r.c)([Object(n.a)({}),Object(k.a)()],e)}(n.e),T=(a("1JZi"),Object(l.a)(O,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"reg-success"},[t._m(0),t._v(" "),a("div",{staticClass:"success-mid"},[a("div",{staticClass:"account-info"},[t._v("\n      你的账号为：\n      "),a("span",{staticClass:"account-number"},[t._v(t._s(t.mobileNumber))])]),t._v(" "),a("div",{staticClass:"account-toast"},[t._v("\n      请妥善保管\n    ")])]),t._v(" "),a("a",{staticClass:"return-to-home",attrs:{href:"/"}},[t._v("稍后将自动返回首页...")])])}),x,!1,null,"0b852020",null).exports),I=Object(_.a)("reg").mapState,j=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isRegistered=!0,e.phoneNumber="",e}return Object(r.d)(e,t),e.kconf=function(t){var e=t.store,a=t.config;return e.commit("reg/"+w,a)},e.prototype.registerSuccess=function(t){this.phoneNumber=t,this.isRegistered=!1},e=Object(r.c)([Object(n.a)({components:{Input:i.a,RegInfo:C,RegSuccess:T},computed:I({kconf:function(t){return t.kconf||{}},computed:I({kconf:function(t){return t.kconf||{}}})})}),Object(y.a)("acfunFrontend.www.reg")],e)}(n.e),S=(a("DypQ"),Object(l.a)(j,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"reg"}},[e("div",{staticClass:"reg-bg"}),this._v(" "),e("div",{staticClass:"reg-container"},[e("div",{staticClass:"reg-wrapper"},[this._m(0),this._v(" "),this.isRegistered?e("RegInfo",{on:{registersuccess:this.registerSuccess}}):e("RegSuccess",{attrs:{mobile:this.phoneNumber}})],1)])])}),o,!1,null,"ff518656",null));e.default=S.exports},DypQ:function(t,e,a){"use strict";var s=a("+AAa");a.n(s).a},KrhE:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));a("mNvP");var s=Symbol("KCONF_KEY");function o(t){return function(e){return Reflect.defineMetadata(s,t,e),e}}},MDZJ:function(t,e,a){},QCyM:function(t,e,a){"use strict";var s=a("MDZJ");a.n(s).a},Vl9Z:function(t,e,a){"use strict";(function(t){var s=a("mrSG"),o=a("Kw5r"),r=a("gpvH"),n=a("AekQ"),i=a("QkVN"),c=a.n(i),u="production"===n.a.env?"production":"development",l="server"===t.env.VUE_ENV||o.a.prototype.$isServer;e.a=function(){var t=this,e=function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this.config={},this.options={},l||(this.config=c()({fps:!1,timing:!1,env:u,retries:3,autoPV:!0,useBeacon:!0},t),this.options=c()({device_id:Object(r.b)("_did")||"",user_id:Object(r.b)("auth_key")||"",global_id:"",version_name:"",product_name:"ACFUN_WEB"},e))}return t.prototype.reset=function(){return Object(s.b)(this,void 0,void 0,(function(){var t,e,o;return Object(s.e)(this,(function(s){switch(s.label){case 0:return l?[2]:(this._logger&&(this._logger=null),this._Weblog&&this._WeblogImpr?(this._logger=new this._Weblog(this.config,this.options),this._logger.plug(this._WeblogImpr),[3,3]):[3,1]);case 1:return[4,Promise.all([a.e(22).then(a.bind(null,"b4Nf")).then((function(t){return t.Weblog})),a.e(1).then(a.bind(null,"scQ+")).then((function(t){return t.default}))])];case 2:t=s.sent(),e=t[0],o=t[1],this._Weblog=e,this._WeblogImpr=o,this._logger=new e(this.config,this.options),this._logger.plug(o),s.label=3;case 3:return[2]}}))}))},t.prototype.log=function(t,e,a){return Object(s.b)(this,void 0,void 0,(function(){return Object(s.e)(this,(function(s){switch(s.label){case 0:return this._logger?[3,2]:[4,this.reset()];case 1:s.sent(),s.label=2;case 2:switch(t){case"SHOW":this.logShow(e,a);break;case"PV":this.logPV(e,a);break;case"CUSTOM":this.logCustom(e,a);break;default:this.logTaskEvent(t,e,a)}return[2]}}))}))},t.prototype.logImmediately=function(t,e){switch(t){case"SHOW":this.logShow(e);break;case"PV":this.logPV(e);break;case"CUSTOM":this.logCustom(e);break;default:this.logTaskEvent(t,e)}},t.prototype.getBaseParams=function(){return{req_id:this._logger.plugins.Impr.getCurrentReqID(),group_id:this._logger.plugins.Impr.getCurrentGroupID()}},t.prototype.logShow=function(t,e){var a,o;void 0===e&&(e=!1);var r=t.params;r=Object(s.a)(Object(s.a)({},this.getBaseParams()),r),e?null===(a=this._logger)||void 0===a||a.sendImmediately("SHOW",Object(s.a)(Object(s.a)({},t),{params:r})):null===(o=this._logger)||void 0===o||o.collect("SHOW",Object(s.a)(Object(s.a)({},t),{params:r}))},t.prototype.logPV=function(t,e){var a,o;void 0===e&&(e=!1);var r=t.params;r=Object(s.a)(Object(s.a)({},this.getBaseParams()),r),e?null===(a=this._logger)||void 0===a||a.sendImmediately("PV",Object(s.a)(Object(s.a)({},t),{params:r})):null===(o=this._logger)||void 0===o||o.collect("PV",Object(s.a)(Object(s.a)({},t),{params:r}))},t.prototype.logTaskEvent=function(t,e,a){var o,r;void 0===a&&(a=!1);var n=e.params;n=Object(s.a)(Object(s.a)({},this.getBaseParams()),n),a?null===(o=this._logger)||void 0===o||o.sendImmediately(t,Object(s.a)(Object(s.a)({},e),{params:n})):null===(r=this._logger)||void 0===r||r.collect(t,Object(s.a)(Object(s.a)({},e),{params:n}))},t.prototype.logCustom=function(t,e){var a,s;void 0===e&&(e=!1),e?null===(a=this._logger)||void 0===a||a.sendImmediately("CUSTOM",t):null===(s=this._logger)||void 0===s||s.collect("CUSTOM",t)},t}();return l?{log:function(e,a,o){return Object(s.b)(t,void 0,void 0,(function(){return Object(s.e)(this,(function(t){return[2]}))}))},reset:r.f}:new e}()}).call(this,a("8oxB"))},Vyvd:function(t,e,a){t.exports=a.p+"img/logo.91f4645c.svg"},WUdU:function(t,e,a){},gQ4I:function(t,e,a){t.exports=a.p+"img/success.8876eef5.png"},zhgN:function(t,e,a){"use strict";var s=a("WUdU");a.n(s).a}}]);